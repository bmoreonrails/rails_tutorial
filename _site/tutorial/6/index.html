<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>B'more on Rails Workshop for Women</title>
   <link href="/rails_tutorial/css/syntax.css" type="text/css" rel="stylesheet"/>
   <link href="/rails_tutorial/css/base.css" type="text/css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="/rails_tutorial/js/tutorial_nav.js"></script>
  </head>


<body>
  <div class="container">
    <nav>
      <p>
       
<div class="tutorial_nav">
  <ul id="menu-list">
    
     <li>
      <a href="/rails_tutorial/tutorial/1/">
        1 Getting Started from Scratch
       </a>
     </li>  
    
     <li>
      <a href="/rails_tutorial/tutorial/2/">
        2 Creating the First Table in Your Database
       </a>
     </li>  
    
     <li>
      <a href="/rails_tutorial/tutorial/3/">
        3 Viewing Data in the Browser
       </a>
     </li>  
    
     <li>
      <a href="/rails_tutorial/tutorial/4/">
        4 Showing Detailed Information in the Browser
       </a>
     </li>  
    
     <li>
      <a href="/rails_tutorial/tutorial/5/">
        5 Creating Books Through the Browser
       </a>
     </li>  
    
     <li>
      <a href="/rails_tutorial/tutorial/6/">
        6 Updating Books
       </a>
     </li>  
    
     <li>
      <a href="/rails_tutorial/tutorial/7/">
        7 Styling Your Bookstore
       </a>
     </li>  
    
   </ul>

  <div class="menu" data-toggle="#menu-list">
    <a href="#menu" class="hamburger">
      <div class="hamburger-icon"> &#9776</div>
      <div class="menu-title">Chapter 6 -- Updating Books</div>
    </a>
  </div>
</div>

      </p>
    </nav>
    <div class="content">
      <div class="sectionheader">
<p>Updating Books</p>
</div>

<div class="aside">
<p>You have so many books in your bookstore! üéâ</p>

<p>What would happen if you suddenly sold every copy of a book? What about if the price changes?</p>

<p>You‚Äôd have to open <code class="highlighter-rouge">rails console</code> to change your book‚Äôs data. That doesn‚Äôt sound very great.</p>

<p>What if you could update books in your browser? Wouldn‚Äôt that be a little easier?</p>

<p>Let‚Äôs make it so you can can update books in the browser.</p>
</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Open Terminal and go to your <code class="highlighter-rouge">bookstore</code> directory. Then, run <code class="highlighter-rouge">rake routes</code>.</p>
  </li>
  <li>
    <p>Now that we want to edit and update books, a couple of rows in the routing table should stand out.</p>

    <p>First, take a look at the row with <code class="highlighter-rouge">edit_book</code>.</p>

    <div class="language-shell highlighter-rouge"><pre class="highlight"><code>edit_book GET    /books/:id/edit<span class="o">(</span>.:format<span class="o">)</span> books#edit
</code></pre>
    </div>

    <p>The path to <code class="highlighter-rouge">edit_book</code> is <code class="highlighter-rouge">/books/:id/edit</code>. Doesn‚Äôt that look a little familiar? You‚Äôve been going to <code class="highlighter-rouge">/books/:id</code> to see the details for a given book. Now, you‚Äôll go to <code class="highlighter-rouge">/books/:id/edit</code> to edit the given book.</p>
  </li>
  <li>
    <p>Start your application‚Äôs web server and go to <a href="http://localhost:3000/books">http://localhost:3000/books</a>. From the index, click the link for <em>why‚Äôs (poignant) Guide to Ruby</em>.</p>

    <p>Your browser should have URL of <code class="highlighter-rouge">http://localhost:3000/books/1</code> in its address bar. Edit the URL so it‚Äôs <code class="highlighter-rouge">http://localhost:3000/books/1/edit</code> to visit the edit path for <em>why‚Äôs (poignant) Guide to Ruby</em>. Now, try going to the new URL.</p>
  </li>
</ol>

</div>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">  ‚Ä∫ <span class="nb">pwd</span>
  /Users/awesomesauce/Projects/bookstore

  ‚Ä∫ rake routes
     Prefix Verb   URI Pattern               Controller#Action
      books GET    /books<span class="o">(</span>.:format<span class="o">)</span>          books#index
            POST   /books<span class="o">(</span>.:format<span class="o">)</span>          books#create
   new_book GET    /books/new<span class="o">(</span>.:format<span class="o">)</span>      books#new
  edit_book GET    /books/:id/edit<span class="o">(</span>.:format<span class="o">)</span> books#edit
       book GET    /books/:id<span class="o">(</span>.:format<span class="o">)</span>      books#show
            PATCH  /books/:id<span class="o">(</span>.:format<span class="o">)</span>      books#update
            PUT    /books/:id<span class="o">(</span>.:format<span class="o">)</span>      books#update
            DELETE /books/:id<span class="o">(</span>.:format<span class="o">)</span>      books#destroy

  ‚Ä∫ rails server
  <span class="o">=</span>&gt; Booting Puma</code></pre></figure>

</div>

<p><img src="screenshot.jpg" alt="Browser showing `/books/1/edit` with an Unknown action error: &quot;The action 'edit' could not be found for BooksController&quot;" /></p>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>You got an error, right?</p>

    <p>Good.</p>

    <p>Can you guess why you‚Äôre seeing an <code class="highlighter-rouge">Unknown action</code> error?</p>
  </li>
  <li>
    <p>You‚Äôre getting an <code class="highlighter-rouge">Unknown action</code> error because your <code class="highlighter-rouge">BooksController</code> doesn‚Äôt have an <code class="highlighter-rouge">edit</code> method. Let‚Äôs add it.</p>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">BooksController</code> in your text editor. Add the <code class="highlighter-rouge">edit</code> method to the end of the controller.</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">edit</span>
<span class="k">end</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Try going to <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a> again.</p>

    <p>What do you think will happen?</p>
  </li>
</ol>
</div>
</div>

<p><img src="screenshot.jpg" alt="Browser showing ActionController::UnknownFormat error: &quot;BooksController#edit is missing a template for this request format and variant&quot;" /></p>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Did you guess you‚Äôd see an <code class="highlighter-rouge">ActionController::UnknownFormat</code> error? Me either üòÖ</p>

    <p>However, you might have guessed that the request was going to error. You added the <code class="highlighter-rouge">edit</code> action to the <code class="highlighter-rouge">BooksController</code>, but it doesn‚Äôt have a template to render.</p>

    <p>Let‚Äôs add it.</p>
  </li>
  <li>
    <p>Go back to Terminal and stop your application‚Äôs web server.</p>
  </li>
  <li>
    <p>Run <code class="highlighter-rouge">touch app/views/books/edit.html.erb</code> to create the edit book template.</p>
  </li>
  <li>
    <p>Restart your application‚Äôs web server and revisit <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a>.</p>

    <p>A blank page has never looked better!</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">  ‚Ä∫ rails server
  ...
  ^CExiting

  ‚Ä∫ touch app/views/books/edit.html.erb

  ‚Ä∫ rails server</code></pre></figure>

</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>In the edit template, we‚Äôll take advantage of forms again. We‚Äôll use them to gather new book data.</p>

    <p>Before we add the form to the template, let‚Äôs make some of the existing book data available.</p>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">BooksController</code> and add the following line inside the <code class="highlighter-rouge">edit</code> method:</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
</code></pre>
    </div>

    <p>(Doesn‚Äôt that look a lot like the <code class="highlighter-rouge">show</code> method?)</p>
  </li>
  <li>
    <p>Save your changes.</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></td><td class="code"><pre>  <span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
    <span class="k">def</span> <span class="nf">index</span>
      <span class="vi">@books</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">all</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">show</span>
      <span class="vi">@id</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">]</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">new</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">new</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">create</span>
      <span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
      <span class="n">redirect_to</span> <span class="n">books_path</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">edit</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="k">end</span>
  <span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>The edit book form is going be similiar to the new book form.</p>

    <p>Remember what the new book form looked like?</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="sx">%= form_for(@book) do |f| %&gt;
  &lt;ul&gt;
    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:title</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.text_field :title %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:author</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.text_field :author %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:price_cents</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.number_field :price_cents %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:quantity</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.number_field :quantity %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:description</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.text_area :description %&gt;
    &lt;/li&gt;
  &lt;/ul&gt;

  &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="sx">%&gt;
&lt;% end %&gt;</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Let‚Äôs start the edit form by adding a field to edit the book‚Äôs title.</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="sx">%= form_for(@book) do |f| %&gt;
  &lt;ul&gt;
    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:title</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.text_field :title %&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;% end %&gt;
</span></code></pre>
    </div>
  </li>
  <li>
    <p>Save your changes and revist <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a>.</p>
  </li>
</ol>
</div>
</div>

<p><img src="screenshot.jpg" alt="Browser showing &quot;/books/1/edit&quot; with a filled-in text_field for the book's title" /></p>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Whoa! The title is already filled-in!</p>

    <p>In the <code class="highlighter-rouge">BooksController</code> <code class="highlighter-rouge">edit</code> method, you found the requested book in your database and assigned it to <code class="highlighter-rouge">@book</code>. When you called <code class="highlighter-rouge">form_for</code> in <code class="highlighter-rouge">app/views/books/edit.html.erb</code>, you passed it <code class="highlighter-rouge">@book</code>.</p>

    <p>Since <code class="highlighter-rouge">@book</code> is a book in your database with a title, the title <code class="highlighter-rouge">text_field</code> was populated with <code class="highlighter-rouge">@book</code>‚Äôs title.</p>

    <p>(<a href="https://www.youtube.com/watch?v=MzlK0OGpIRs"><em>Magic</em></a>)</p>
  </li>
  <li>
    <p>Update the form so it has fields for all the book attributes: title, author, price_cents, quantity, and description.</p>

    <p>Use the new book form in <code class="highlighter-rouge">app/views/books/new.html.erb</code> as an example.</p>
  </li>
</ol>
</div>
</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>How‚Äôs your form look? It should look like this:</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="sx">%= form_for(@book) do |f| %&gt;
  &lt;ul&gt;
    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:title</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.text_field :title %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:author</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.text_field :author %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:price_cents</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.number_field :price_cents %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:quantity</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.number_field :quantity %&gt;
    &lt;/li&gt;

    &lt;li&gt;
      &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:description</span> <span class="o">%&gt;</span>
      <span class="o">&lt;</span><span class="sx">%= f.text_area :description %&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;% end %&gt;
</span></code></pre>
    </div>
  </li>
  <li>
    <p>Update your solution to match this solution. Save your changes and revisit <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a>.</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><pre>  <span class="o">&lt;</span><span class="sx">%= form_for(@book) do |f| %&gt;
    &lt;ul&gt;
      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:title</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.text_field :title %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:author</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.text_field :author %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:price_cents</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.number_field :price_cents %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:quantity</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.number_field :quantity %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:description</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.text_area :description %&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;% end %&gt;</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<p><img src="screenshot.jpg" alt="Browser showing &quot;/books/1/edit&quot; with a form but no button" /></p>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Now you can edit all your book data, but there‚Äôs no way to save your changes.</p>

    <p>We need to add a <code class="highlighter-rouge">submit</code> button so you can submit your changes via the form.</p>
  </li>
  <li>
    <p>Open <code class="highlighter-rouge">app/views/books/edit.html.erb</code> and add a <code class="highlighter-rouge">submit</code> button as the last line inside the <code class="highlighter-rouge">form_for</code> block.</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="sx">%= f.submit %&gt;
</span></code></pre>
    </div>

    <p>This will add a button to your form labeled ‚ÄúUpdate Book‚Äù. <em>Magic</em></p>
  </li>
  <li>
    <p>Save your changes and revisit <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a>. Try making a change and submitting the form.</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30</pre></td><td class="code"><pre>  <span class="o">&lt;</span><span class="sx">%= form_for(@book) do |f| %&gt;
    &lt;ul&gt;
      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:title</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.text_field :title %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:author</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.text_field :author %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:price_cents</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.number_field :price_cents %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:quantity</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.number_field :quantity %&gt;
      &lt;/li&gt;

      &lt;li&gt;
        &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">label</span> <span class="ss">:description</span> <span class="o">%&gt;</span>
        <span class="o">&lt;</span><span class="sx">%= f.text_area :description %&gt;
      &lt;/li&gt;
    &lt;/ul&gt;

    &lt;%=</span> <span class="n">f</span><span class="p">.</span><span class="nf">submit</span> <span class="sx">%&gt;
  &lt;% end %&gt;</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<p><img src="screenshot.jpg" alt="Browser showing &quot;/books/1/edit&quot; with a submit button" /></p>

<p><img src="screenshot.jpg" alt="Browser showing Unknown action error: &quot;The action 'update' could not be found for BooksController&quot;" /></p>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>We‚Äôve been through this drill before‚Ä¶</p>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">BooksController</code> and add an <code class="highlighter-rouge">update</code> method to the end of it.</p>
  </li>
  <li>
    <p>Save your changes and revisit <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a>. Try making a change to the book and submitting the form.</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></td><td class="code"><pre>  <span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
    <span class="k">def</span> <span class="nf">index</span>
      <span class="vi">@books</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">all</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">show</span>
      <span class="vi">@id</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">]</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">new</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">new</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">create</span>
      <span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
      <span class="n">redirect_to</span> <span class="n">books_path</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">edit</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">update</span>
    <span class="k">end</span>
  <span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Nothing happened!</p>

    <p>The form is being submitted to the <code class="highlighter-rouge">BooksController</code> <code class="highlighter-rouge">update</code> method, and the method is‚Ä¶empty. I think I‚Äôd be more surprised if something <em>did</em> happen üòâ</p>

    <p>The <code class="highlighter-rouge">update</code> method should probably do something. Maybe it should update the book.</p>
  </li>
  <li>
    <p>First, let‚Äôs find the book you‚Äôre trying to update.</p>

    <p>Open the <code class="highlighter-rouge">BooksController</code> and add the following line insided the <code class="highlighter-rouge">update</code> method:</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
</code></pre>
    </div>

    <p>We‚Äôve done this in a few of the <code class="highlighter-rouge">BooksController</code> methods.</p>
  </li>
  <li>
    <p>Now that we have the book, how will we <code class="highlighter-rouge">update</code> it?</p>

    <p>You‚Äôve updated books before. Do you remember when you added descriptions to all your books? How did you do it?</p>

    <p>You did something along the lines of <code class="highlighter-rouge">my_first_book.update(description: "Woooo")</code>.</p>

    <p>You called the <code class="highlighter-rouge">update</code> method on each of your books to give them descriptions. We‚Äôll use <code class="highlighter-rouge">update</code> again to make the requested changes.</p>
  </li>
  <li>
    <p>We could simply do <code class="highlighter-rouge">book.update(params[:book])</code>, but that won‚Äôt work because of strong parameters.</p>

    <p>Instead, add the following line to the end of the <code class="highlighter-rouge">BooksController</code> <code class="highlighter-rouge">update</code> method.</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">book</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Save your changes, revisit <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a>, make some changes, and submit that form!</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28</pre></td><td class="code"><pre>  <span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
    <span class="k">def</span> <span class="nf">index</span>
      <span class="vi">@books</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">all</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">show</span>
      <span class="vi">@id</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">]</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">new</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">new</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">create</span>
      <span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
      <span class="n">redirect_to</span> <span class="n">books_path</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">edit</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">update</span>
      <span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
      <span class="n">book</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
    <span class="k">end</span>
  <span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Nothing happened, right?</p>

    <p>Go to <a href="http://localhost:3000/books/1">http://localhost:3000/books/1</a>, and make sure to refresh the page.</p>

    <p>Your change is there!</p>

    <p>Don‚Äôt believe me? Try making another change?</p>
  </li>
  <li>
    <p>How are changes happening when it looks like the form isn‚Äôt being submitted?</p>

    <p>The form is being submitted to the <code class="highlighter-rouge">BooksController</code> <code class="highlighter-rouge">update</code> method, and the requested changes are being made to the book. But that‚Äôs where the <code class="highlighter-rouge">update</code> method ends. It looks like nothing happened because there‚Äôs no visual queue that something happened.</p>
  </li>
  <li>
    <p>After a book is updated, let‚Äôs redirect to that book‚Äôs details. That way, we can see the changes.</p>

    <p>Add the end of the <code class="highlighter-rouge">BooksController</code> <code class="highlighter-rouge">update</code> method, add the following line:</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="n">redirect_to</span> <span class="n">book_path</span><span class="p">(</span><span class="n">book</span><span class="p">)</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Save your changes, revisit <a href="http://localhost:3000/books/1/edit">http://localhost:3000/books/1/edit</a>, and try making another change. When you submit your changes, you should be redirected to the first book‚Äôs details. Keep an out to see your changes.</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29</pre></td><td class="code"><pre>  <span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
    <span class="k">def</span> <span class="nf">index</span>
      <span class="vi">@books</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">all</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">show</span>
      <span class="vi">@id</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">]</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">new</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">new</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">create</span>
      <span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
      <span class="n">redirect_to</span> <span class="n">books_path</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">edit</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">update</span>
      <span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
      <span class="n">book</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
      <span class="n">redirect_to</span> <span class="n">book_path</span><span class="p">(</span><span class="n">book</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Yay! In addition to adding books from the browser, you can now edit books too.</p>
  </li>
  <li>
    <p>Before we move on, let‚Äôs take a look at cleaning up some stuff. Let‚Äôs start with the <code class="highlighter-rouge">BooksController</code>.</p>
  </li>
  <li>
    <p>In both the <code class="highlighter-rouge">create</code> and <code class="highlighter-rouge">update</code> methods, you‚Äôre authorizing and getting the same params.</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">create</span>
  <span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>

<span class="p">.</span><span class="nf">.</span><span class="p">.</span>

<span class="nf">def</span> <span class="n">update</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
  <span class="nf">book</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
  <span class="p">.</span><span class="nf">.</span><span class="p">.</span>
<span class="nf">end</span>

</code></pre>
    </div>

    <p>Fortunately, there‚Äôs a convention to help manage this shared bit of code.</p>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">BooksController</code> in your text editor, and add the following code to the end of it:</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="k">def</span> <span class="nf">book_params</span>
  <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">)</span>
<span class="k">end</span>
</code></pre>
    </div>

    <p>By defining a new <code class="highlighter-rouge">book_params</code> method, we have one place to deal with getting and authorizing book params.</p>
  </li>
  <li>
    <p>Now, update the <code class="highlighter-rouge">create</code> method so it uses <code class="highlighter-rouge">book_params</code>. Change</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">))</span>
</code></pre>
    </div>

    <p>to</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">book_params</span><span class="p">)</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Make the same change to the <code class="highlighter-rouge">update</code> method.</p>
  </li>
  <li>
    <p>Save your changes and try creating and editing books. Everything should still work the same as it did before these changes.</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></td><td class="code"><pre>  <span class="k">class</span> <span class="nc">BooksController</span> <span class="o">&lt;</span> <span class="no">ApplicationController</span>
    <span class="k">def</span> <span class="nf">index</span>
      <span class="vi">@books</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">all</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">show</span>
      <span class="vi">@id</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">]</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="vi">@id</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">new</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">new</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">create</span>
      <span class="no">Book</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="n">book_params</span><span class="p">)</span>
      <span class="n">redirect_to</span> <span class="n">books_path</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">edit</span>
      <span class="vi">@book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">update</span>
      <span class="n">book</span> <span class="o">=</span> <span class="no">Book</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
      <span class="n">book</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="n">book_params</span><span class="p">)</span>
      <span class="n">redirect_to</span> <span class="n">book_path</span><span class="p">(</span><span class="n">book</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">book_params</span>
      <span class="n">params</span><span class="p">.</span><span class="nf">require</span><span class="p">(</span><span class="ss">:book</span><span class="p">).</span><span class="nf">permit</span><span class="p">(</span><span class="ss">:title</span><span class="p">,</span> <span class="ss">:author</span><span class="p">,</span> <span class="ss">:price_cents</span><span class="p">,</span> <span class="ss">:quantity</span><span class="p">,</span> <span class="ss">:description</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

<div class="steps">
<div class="list">
<ol>
  <li>
    <p>Let‚Äôs make one more change to improve the edit workflow.</p>

    <p>Right now, you can only edit books if you know the <code class="highlighter-rouge">edit_book_path</code> URL. Let‚Äôs make this a little user friendly by adding a link to the edit page from the book show page.</p>
  </li>
  <li>
    <p>Open <code class="highlighter-rouge">app/views/books/show.html.erb</code> in your text editor. Add the following line to the end of the file:</p>

    <div class="language-ruby highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="sx">%= link_to "Edit book", edit_book_path(@book) %&gt;
</span></code></pre>
    </div>

    <p>This will create a link with text ‚ÄúEdit book‚Äù. It will link to the <code class="highlighter-rouge">edit_book_path</code> for <code class="highlighter-rouge">@book</code> which will evaluate to <code class="highlighter-rouge">/books/:id/edit</code>.</p>

    <p>Adding the link here works really well because we already have the book we want to edit as <code class="highlighter-rouge">@book</code>.</p>
  </li>
  <li>
    <p>Save your changes and visit a few books. Clicking the ‚ÄúEdit book‚Äù link should take you to the edit page for the book you‚Äôre viewing.</p>
  </li>
  <li>
    <p>When you‚Äôre done exploring, stop your application‚Äôs web server.</p>
  </li>
</ol>
</div>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class="code"><pre>  <span class="o">&lt;</span><span class="n">dl</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dt</span><span class="o">&gt;</span><span class="no">Id</span><span class="o">&lt;</span><span class="sr">/dt&gt;
    &lt;dd&gt;&lt;%= @book.id %&gt;&lt;/</span><span class="n">dd</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">dt</span><span class="o">&gt;</span><span class="no">Title</span><span class="o">&lt;</span><span class="sr">/dt&gt;
    &lt;dd&gt;&lt;%= @book.title %&gt;&lt;/</span><span class="n">dd</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">dt</span><span class="o">&gt;</span><span class="no">Author</span><span class="o">&lt;</span><span class="sr">/dt&gt;
    &lt;dd&gt;&lt;%= @book.author %&gt;&lt;/</span><span class="n">dd</span><span class="o">&gt;</span>

    <span class="o">&lt;</span><span class="n">dt</span><span class="o">&gt;</span><span class="no">Price</span><span class="o">&lt;</span><span class="sr">/dt&gt;
    &lt;dd&gt;&lt;%= number_to_currency(@book.price_cents /</span> <span class="mi">100</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span> <span class="o">%&gt;&lt;</span><span class="sr">/dd&gt;

    &lt;dt&gt;Quantity&lt;/</span><span class="n">dt</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">dd</span><span class="o">&gt;&lt;</span><span class="sx">%= @book.quantity %&gt;&lt;/dd&gt;

    &lt;dt&gt;Description&lt;/dt&gt;
    &lt;dd&gt;&lt;%=</span> <span class="vi">@book</span><span class="p">.</span><span class="nf">description</span> <span class="sx">%&gt;&lt;/dd&gt;</span>
  <span class="o">&lt;</span><span class="sr">/dl&gt;

  &lt;%= link_to "Edit book", edit_book_path(@book) %&gt;</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></figure>

</div>

    </div>
  </div>
<footer>
  <div class="container">
    <p class="center-text">Here's the footer!!</a></p>
  </div>
</footer>
</body>
</html>

